<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>插入排序</title>
</head>
<body>
<script>
    // 插入排序 https://zhuanlan.zhihu.com/p/28130533
    var swap = function swap(array, a, b) {
        var temp = array[a]
        array[a] = array[b]
        array[b] = temp
    }

    function sort1(array) {
        var count = 0;
        var len = array.length,     // 数组的长度
            value,                      // 当前比较的值
            i,                          // 未排序部分的当前位置
            j;                          // 已排序部分的当前位置

        for (i = 0; i < len; i++) {

            // 储存当前位置的值
            value = array[i];

            /*
             * 当已排序部分的当前元素大于value，
             * 就将当前元素向后移一位，再将前一位与value比较
             */
            for (j = i - 1; j > -1 && array[j] > value; j--) {
                array[j + 1] = array[j];
                count++
            }

            array[j + 1] = value;
        }

        console.log(count)
        return array;
    }

    function sort2(array) {
        var max = array.length
        var i, j, value, count = 0

        var swap = function swap(array, a, b) {
            var temp = array[a]
            array[a] = array[b]
            array[b] = temp
        }

        for (i = 0; i < max; i++) {
            // 自己根据 插入排序思想 写的代码
            value = array[i]
            count++
            if (array[i + 1] < value) {
                for (j = i + 1; j >= 0 && array[j] < array[j - 1]; j--) {
                    swap(array, j, j - 1)
                    count++
                }
            }
        }

        console.log(count)
        return array
    }


    var data = [1, 2, 4, 5, 6, 22, 22, 5, 6, 7, 8]
    //    var result = sort1(data)
    var result = sort2(data)
    console.log(result)
</script>
</body>
</html>