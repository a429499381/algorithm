<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>字符串是否为回文串</title>
</head>
<body>
<script>
    var count = 0

    var swap = function swap(array, a, b) {
        var temp = array[a]
        array[a] = array[b]
        array[b] = temp
    }

    var plalindrome = function (str) {
        var strLocak = true
        var j = str.length - 1
        var i = 0
        var str = str.toLowerCase()
        var reg = /\w+/
        var regValue

        function active() {  // 数据循环处理部分

            //  是否为 字母和数字 不是 i++
            regValue = reg.test(str[i])
            if (!regValue) {
                i++
                active()
            }
            //  是否为 字母和数字 不是 j--
            regValue = reg.test(str[j])
            if (!regValue) {
                j--
                active()
            }

            // 重要有一个 字母和数字不想等 就返回 false
            if (str[i] !== str[j]) {
                return strLocak = false
            }


            // 如果每次都想等， 比较完所有字母和数字，就返回 true
            if (str[i] === str[j]) {
                if (i === j) {
                    return strLocak = true
                } else {
                    i++
                    j--
                    active()
                }
            }
        }

        active()

        return strLocak
    }

    // reace a car 不是回文串
    var string = 'A man, a plan, a canal; Panama'

    var result = plalindrome(string)
    console.log(count)
    console.log(result)
</script>
</body>
</html>