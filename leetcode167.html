<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>有序数组找出两个数字和等于target</title>
</head>
<body>
<script>
    var count = 0

    var swap = function swap(array, a, b) {
        var temp = array[a]
        array[a] = array[b]
        array[b] = temp
    }

    var twoSum = function (arry, target) {
        var result = []
        for (var i = 0; i < arry.length; i++) {
            for (var j = i + 1; j < arry.length; j++) {
                count++
                if (target - arry[i] === arry[j]) {
                    result.push(i, j)
                }
            }
        }
        if (result.length) {
            return result

        } else {
            console.log('无法找到匹配之和')
            return -1
        }

    }

    var binarySearch = function (arry, target) {
        var result = -1
        var l = 0, r = arry.length - 1, mid

        function active() {
            mid = Math.floor((l + r) / 2)

            if (target === arry[mid]) {
                result = mid
            } else if (target > arry[mid]) {
                l = mid
                active()
            } else if (target < arry[mid]) {
                r = mid
                active()
            }
        }
        active()

        return result

    }

    var twoSum1 = function (arry, target) {
        var temp, binaryIndex = -1
        var result = []
        for (var i = 0; i < arry.length; i++) {
            temp = target - arry[i]
            binaryIndex = binarySearch(arry, temp)
            if (binaryIndex) {
                result.push(i, binaryIndex)
            }
        }
        return result
    }

    var data = [1, 2, 3, 4, 5, 5, 5, 5, 5, 6, 7, 8, 9, 9, 10, 10, 11, 11]
    var result = twoSum1(data, 12)
    console.log(count)
    console.log(result)
</script>
</body>
</html>